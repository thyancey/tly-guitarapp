@import "~themes/variables.less";

.fretboard{
  display:inline-block;
  width:@fretboard-width;
  position:relative;
  z-index:1;
}

.fretboard-stringgraphic-container{
  position:absolute;
  top:0px;
  left:@string-shift;
  width:100%;
  height:100%;
  z-index:-1;
  text-align:left;

  .stringgraphic{
    opacity:.5;
    display:inline-block;
    width:@string-width;
    height:100%;
    margin-left:@string-separation;
    background-color:@color-string;
  }
}


.layout-horizontal{
  .fretboard{
    position:absolute;
    transform: rotate(-90deg);
    transform-origin: top center;
    top:50%;
    left:0 - (@fretboard-width / 2);
  }
}

.fretboard-strings-container{
  position:absolute;
  top:0px;
  left:0px;


  .fretboard-string{
    display:inline-block;
    vertical-align:top;
  }

  .fret-spacer{
    display:block;

    &.fret-spacer-nut{
      height:8px;
    }
    &.fret-spacer-fret{
      height:3px;
    }
  }

  .fret{
    color:#4a361b;
    display:block;

    &.active-fret{
      color:#d0ab7b;

      &.root-fret{
        color:@color-white;
      }
    }

    &.found-fret{
      .round-fret-circle {
        opacity:1;
        box-shadow: 0px 0px 5px 10px @color-purple-dark;
      }

      &.root-fret{
        .round-fret-circle{
          box-shadow: 0px 0px 5px 10px @color-purple-dark;
        }
      }
    }

    line-height:@fret-height;
    height:@fret-height;
    width:@fret-width;
    /*border:1px solid white;*/
    cursor:pointer;
    .fret-note{
      display:inline-block;
    }
    .fret-idx{
      display:none;
    }
    .fret-octave{
      display:none;
    }

    &:hover{
      // background-color:red;

      .fret-note{
        // display:none;
      }
      .fret-idx{
        display:none;
      }
      // .fret-octave{
      //   display:inline-block;
      // }
    }
  }
}



.fret-rows-container{
  .fret-index{
    position:absolute;
    top:0px;
    width:30px;
    left:-35px;
    color:@color-blue-light;
    height:@fret-height;
    line-height:@fret-height;
    text-align:right;
  }
}

.fret-row{
  position:relative;

  .fret-row-bg{
    position:absolute;
    top:0px;
    height:@fret-height;
    background-image:url("~images/fret-row-blank.png");
    background-size: 100% 100%;
    background-repeat: no-repeat;
    width:100%;
    opacity:.2;
    z-index:-1;

    &.one-dot{
      background-image:url("~images/fret-row-single.png");
    }

    &.two-dot{
      background-image:url("~images/fret-row-double.png");
    }

    &.nut{
      background-image:url("~images/nut.png");
    }

  }

  .fret-bar-nut{
    background-color:silver;
    height:8px;
  }

  .fret-bar{
    opacity:.5;
    background-image:url("~images/fret.png");
    background-size: 100% 100%;
    background-repeat: no-repeat;
    height:3px;
  }

  .fret-area{
    display:block;
    height:@fret-height;
    width:@fret-width;
  }
}



@fret-circle-radius: (.7 * @fret-width);

.active-fret{

  &.root-fret{
    .round-fret{
      .round-fret-circle {
        background-color: @color-red;
        span{
          // color:white;
        }
      }
    }
  }

  .round-fret{
    .round-fret-circle {
      opacity:1;
      box-shadow: 0px 0px 10px @color-red;
      span{
        font-weight:600;
      }
    }
  }

  &:hover{
    .round-fret{
      .round-fret-circle {
        background-color:@color-purple-dark;
        transition: all .2s;
      }
    }
  }
}

.round-fret {
  color:#4a361b;
  display:inline-block;
  cursor:pointer;

  vertical-align:middle;
  line-height:@fret-circle-radius;
  height:@fret-circle-radius;
  width:@fret-circle-radius;

  &:hover{
  }


  span {
    color:black;

    display:block;
    float:left;
    width:100%;
    padding-top:50%;
    padding-bottom:50%;
    line-height:1rem;
    margin-top:-0.4rem;

    text-align:center;
    font-size:1.5rem;
    text-decoration:none;

    font-family:arial;
  }

  .round-fret-circle {
    opacity:.2;
    background-color: @color-blue-light; 
    transition: background-color .5s;

    width: 100%;
    height:0;
    padding-bottom: 100%;
    border-radius: 50%;
    cursor:pointer;
    overflow:hidden;
    font-weight:600;
  }
}

.fret{
  &:hover {
    .round-fret-circle {
      opacity:1;
      background-color:@color-black;
      box-shadow: 0px 0px 25px @color-white;
      transition: all .2s;
      span{
        color:@color-white;
        transition: color .2s;
      }
    }
  }
}